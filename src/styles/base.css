/* src/styles/base.css */

@theme inline {
  /* Colors */
  --color-background: var(--background);
  --color-background-elevated: var(--background-elevated);
  --color-foreground: var(--foreground);
  --color-sidebar: var(--sidebar-bg);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent-tint: var(--accent-tint);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);
  --color-warning: var(--warning);
  --color-warning-foreground: var(--warning-foreground);
  --color-info: var(--info);
  --color-info-foreground: var(--info-foreground);
  --color-border: var(--border);
  --color-border-hairline: var(--border-hairline);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-glass-tint: var(--glass-tint);

  /* Radii */
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
  --radius-2xl: var(--radius-2xl);
  --radius-full: var(--radius-full);
  --radius-none: 0;

  /* Fonts */
  --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-elevated: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-floating: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-card: 0 10px 30px -18px color-mix(in oklch, black 22%, transparent);
  --shadow-card-hover: 0 16px 40px -20px color-mix(in oklch, black 26%, transparent);
  --shadow-dropdown: 0 18px 35px -18px color-mix(in oklch, black 30%, transparent);
  --shadow-inner-pressed: inset 0 2px 4px 0 rgb(0 0 0 / 0.06);

  /* Easing */
  --ease-decelerate: cubic-bezier(0, 0, 0.2, 1);
}

@utility glass-regular {
  background: linear-gradient(170deg, var(--glass-highlight-soft), transparent 42%), var(--glass-regular-bg);
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow-card);
  -webkit-backdrop-filter: blur(20px) saturate(175%);
  backdrop-filter: blur(20px) saturate(175%);
}

@utility glass-clear {
  background: linear-gradient(170deg, var(--glass-highlight-soft), transparent 46%), var(--glass-clear-bg);
  border: 1px solid var(--glass-border);
  -webkit-backdrop-filter: blur(14px) saturate(165%);
  backdrop-filter: blur(14px) saturate(165%);
}

@utility glass-toolbar {
  background: linear-gradient(180deg, var(--glass-highlight), transparent 52%), var(--glass-toolbar-bg);
  border-bottom: 1px solid var(--glass-border-strong);
  -webkit-backdrop-filter: blur(18px) saturate(170%);
  backdrop-filter: blur(18px) saturate(170%);
}

@utility glass-sidebar {
  background: linear-gradient(160deg, var(--glass-highlight-soft), transparent 48%), var(--glass-sidebar-bg);
  border-right: 1px solid var(--glass-border-strong);
  -webkit-backdrop-filter: blur(22px) saturate(180%);
  backdrop-filter: blur(22px) saturate(180%);
}

@utility glass-floating {
  background: linear-gradient(165deg, var(--glass-highlight), transparent 40%), var(--glass-floating-bg);
  border: 1px solid var(--glass-border-strong);
  box-shadow: var(--shadow-floating);
  -webkit-backdrop-filter: blur(22px) saturate(185%);
  backdrop-filter: blur(22px) saturate(185%);
}

@utility scroll-edge-soft {
  mask-image: linear-gradient(to bottom, transparent, black 24px, black calc(100% - 24px), transparent);
}

@utility scroll-edge-hard {
  mask-image: linear-gradient(to bottom, transparent, black 12px, black calc(100% - 12px), transparent);
}

@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))) {
  .glass-regular,
  .glass-clear,
  .glass-toolbar,
  .glass-sidebar,
  .glass-floating {
    background: var(--glass-fallback-bg);
    border-color: var(--glass-fallback-border);
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
  }
}

@media (prefers-reduced-transparency: reduce) {
  .glass-regular,
  .glass-clear,
  .glass-toolbar,
  .glass-sidebar,
  .glass-floating {
    background: var(--glass-fallback-bg);
    border-color: var(--glass-fallback-border);
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
  }
}

@layer base {
  *, ::after, ::before, ::backdrop, ::file-selector-button {
    border-color: var(--color-border-hairline, currentColor);
  }
}
